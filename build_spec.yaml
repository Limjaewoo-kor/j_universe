version: 0.1
component: build
timeoutInSeconds: 3600
shell: bash

env:
  variables:
    DATABASE_URL: ${DATABASE_URL}
    SECRET_KEY: ${SECRET_KEY}
    OPENAI_API_KEY: ${OPENAI_API_KEY}

steps:
  - type: Command
    name: Install Python dependencies
    command: |
      pip install --upgrade pip
      pip install -r requirements.txt

  - type: Command
    name: Run FastAPI
    command: |
      uvicorn main:app --host 0.0.0.0 --port 8000
